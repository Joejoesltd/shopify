{%- comment -%}
{% unless form_id %}
    {% assign form_id = 'language-form' %}
{% endunless %}
{%- endcomment -%}
{% assign show_language_selector = true %}


{% if show_language_selector %}
<div class="sf-language-switcher {{ box_size }} lg:py-3.5">
    {%- capture form_id -%}localization_form{{product.id}}__{{ "now" | date: "%L" }}{%- endcapture -%}

    {% form 'localization', class: 'px-4', data-localization-form: '', id: form_id %}
        <input type="hidden" name="locale_code" value="{{ form.current_locale.iso_code }}" data-localization-input />
        <div class="sf__custom-select sf__select-{{pos}}">
            <select class="border-transparent bg-transparent" data-localization-select>
                {% for language in localization.available_languages %}
                    <option
                        value="{{language.iso_code}}"
                        {% if language.iso_code == localization.language.iso_code %}selected{% endif %}
                    >
                        {{ language.endonym_name }}
                    </option>
                {% endfor %}
            </select>
        </div>
    {% endform %}
</div>
{% endif %}
